<!-- // written by: Cheikh Faye -->
<!-- // updated by: Bjarni Jonsson -->
<!-- // tested by: Cheikh Faye, Bjarni Jonsson -->
<!-- // debugged by: Bjarni Jonsson -->

<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasty Bytes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/employee.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</head>

<body>

<header class="nav-floor">

        <a href="employeeHomePage.html"><img src="../assets/logo.png" alt="Tasty Bytes Logo"></a>
        <div class="page-title">Floor Overview</div>
        <ul class="nav-links">
            <li><a href="employeeHomePage.html">Home</a></li>
            <li><a href="managerHome.html">Functions</a></li>
            <li><a href="orderChecks.html">Orders</a></li>
            <li><a href="viewMenu2.html">Menu</a></li>
            <li><a href="serverinterface.html">Tables</a></li>
        </ul>

</header>

  <main>
    <div id="shift-schedule"></div>

  </main>


<script type="module" src="../js/restaurantTables.js"></script>

  <script type="module" src="../js/tableStatus.js" ></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">

    function MyReactSection() {
      const [selectedTable, setSelectedTable] = React.useState(null);
      const [allTables, setAllTables] = React.useState([]);

    //   async function fetchAllTables() {
    //     try {

    //       const response = await fetch(`http://localhost:3100/restaurant_table/`);
    //       if (!response.ok) {
    //         throw new Error(`Error fetching table data: ${response.statusText}`);
    //       }
    //       const data = await response.json();
    //       setAllTables(data);
    //       console.log('data:', data);

    //     } catch (error) {
    //       console.error(error);
    //       setTableData({ error: "Unable to fetch table data." });
    //     }
    //   }



return (
    
<div >
    <ShiftSchedule />
</div>
   
);
  }

  function ShiftSchedule({ }) {
  return (
    <div >
    
    <div class="date-selector">
        <button onclick="handlePrevWeek()">Prev</button>
        <span id="weekRangeDisplay"></span>
        <button onclick="handleNextWeek()">Next</button>
    </div>

    <table class="schedule-body">
        <tr>
            <th></th>
            <th><h1>M</h1>
                <li class="schedule-date" id="mondayDisplay">GetDate</li></th>
            <th><h1>T</h1>
                <li class="schedule-date" id="tuesdayDisplay">GetDate</li></th>
            <th><h1>W</h1>
                <li class="schedule-date" id="wednesdayDisplay">GetDate</li></th>
            <th><h1>T</h1>
                <li class="schedule-date" id="thursdayDisplay">GetDate</li></th>
            <th><h1>F</h1>
                <li class="schedule-date" id="fridayDisplay">GetDate</li></th>
            <th><h1>S</h1>
                <li class="schedule-date" id="saturdayDisplay">GetDate</li></th>
            <th><h1>S</h1>
                <li class="schedule-date" id="sundayDisplay"></li></th>
        </tr>
        <tr>
            <th><h1>First Shift</h1>
                8:00 A.M. - 12:00 P.M.
            </th>
            <th id="fShiftMon">Get Employees</th>
            <th id="fShiftTue">Get Employees</th>
            <th id="fShiftWed">Get Employees</th>
            <th id="fShiftThu">Get Employees</th>
            <th id="fShiftFri">Get Employees</th>
            <th id="fShiftSat">Get Employees</th>
            <th id="fShiftSun">Get Employees</th>   
        </tr>
        <tr>
            <th><h1>Lunch</h1>
                12:00 P.M. - 1:00 P.M.
            </th>
            <th id="lunchMon">Get Employees</th>
            <th id="lunchTue">Get Employees</th>
            <th id="lunchWed">Get Employees</th>
            <th id="lunchThu">Get Employees</th>
            <th id="lunchFri">Get Employees</th>
            <th id="lunchSat">Get Employees</th>
            <th id="lunchSun">Get Employees</th>   
        </tr>
        <tr>
            <th><h1>Second Shift</h1>
                1:00 P.M. - 5:00 P.M.
            </th>
            <th id="sShiftMon">Get Employees</th>
            <th id="sShiftTue">Get Employees</th>
            <th id="sShiftWed">Get Employees</th>
            <th id="sShiftThu">Get Employees</th>
            <th id="sShiftFri">Get Employees</th>
            <th id="sShiftSat">Get Employees</th>
            <th id="sShiftSun">Get Employees</th>   
        </tr>       
    </table>
    </div>
  );
  const [shiftData, setShiftData] = React.useState(null);
  React.useEffect(() => {
      async function fetchShiftData() {
        
        try {
          const response = await fetch(`http://localhost:3100/shift_schedule/${id}`);
          if (!response.ok) {
            throw new Error(`Error fetching shift data: ${response.statusText}`);
          }
          const data = await response.json();
          console.log('fetched data', data);
          setShiftData(data);
        } catch (error) {
          console.error(error);
          setShiftData({ error: "Unable to fetch shift data." });
        }
      }
fetchShiftData();

    }, [shiftData]);
}
 

  const root = ReactDOM.createRoot(document.getElementById("shift-schedule"));
  root.render(<MyReactSection />);
</script>

</body>

</html>


